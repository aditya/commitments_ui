<div ng-controller="Notifications">
    <ul
        toaster
        animated-show="notification"
        ng-init="notification"
        class="notifications">
        <li class="notification">
        <button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>
        <i class="notification-icon {{iconFor(notification)}}"></i>
        <div postdate ng-model="notification.when"></div>
        <div>
            <span class="notification-message">
                <span gravatar ng-model="notification.data.from" ng-visible="notification.data.from"></span>
                <a ng-href="/#/task/{{notification.data.link}}">{{notification.data.context.what}}</a>
            </span>
        </div>
        <div markdown readonly ng-model="notification.data.message"></div>
        </li>
    </ul>
    <ul
        ng-model="notifications"
        animated-show="user.preferences.notifications"
        class="notifications">
        <li
        ng-repeat="notification in notifications.items"
        class="notification">
        <i class="notification-icon {{iconFor(notification)}}"></i>
        <div postdate ng-model="notification.when"></div>
        <div>
            <span class="notification-message">
                <span gravatar ng-model="notification.data.from" ng-visible="notification.data.from"></span>
                <a ng-href="/#/task/{{notification.data.link}}">{{notification.data.context.what}}</a>
            </span>
        </div>
        <div markdown readonly ng-model="notification.data.message"></div>
        </li>
    </ul>
</div>
